#:import Window kivy.core.window.Window

<StartingScreen>
    canvas:
        Color:
            rgba: (1, 1, 1, 1)
        Rectangle:
            source: "lifejackit (1).png"
            pos: self.pos
            size: self.size
    MDRaisedButton:
        text: "Create an account"
        pos_hint: {"center_x": 0.5, "center_y": 0.3}
        on_release:
            app.root.current = "account"
    MDRaisedButton:
        text: "Log in"
        pos_hint: {"center_x": 0.5, "center_y": 0.2}
        on_release:
            app.root.current = "login"


<CreateAccountScreen>
    canvas:
        Color:
            rgba: (1, 1, 1, 1)
        Rectangle:
            source: "lifejackit background.png"
            pos: self.pos
            size: self.size
    MDCard:
        opacity: 0.77
        padding: 4
        size_hint: None, None
        size: "240dp", "280dp"
        pos_hint: {"center_x": 0.5, "center_y": 0.5}


        MDRelativeLayout:
            MDLabel:
                id: label
                text: "Create an Account"
                adaptive_size: True
                color: "black"
                pos_hint: {"center_x": 0.5, "center_y": 0.88}
                font_size: '18sp'
                bold: True
            MDTextField:
                id: username
                hint_text: "Username"
                hint_text_size: "5sp"
                mode: "rectangle"
                width: 200
                height: 10
                size_hint: None, None
                pos_hint: {"center_x": 0.5, "center_y": 0.7}
                line_color_normal: 0/255, 0/255, 0/255, 1
                multiline: False
                font_size:"15dp"
                max_text_length: 20
                helper_text_mode: "on_error"
                on_text_validate: self.parent.parent.parent.check_username_length(self)
                on_focus:
                    self.helper_text = ""
                    self.parent.parent.parent.check_username_length(self)
                #hint_text_color_normal: "black"
            MDTextField:
                id: password
                hint_text: "Password"
                hint_text_size: "5sp"
                mode: "rectangle"
                width: 200
                height: 10
                size_hint: None, None
                pos_hint: {"center_x": 0.5, "center_y": 0.4}
                line_color_normal: 0/255, 0/255, 0/255, 1
                multiline: False
                font_size:"15dp"
                helper_text_mode: "on_error"
                max_text_length: 50
                on_text_validate: self.parent.parent.parent.check_password_length(self)
                on_focus: self.parent.parent.parent.check_password_length(self)
            MDRaisedButton:
                text: "Continue"
                pos_hint: {"center_x": 0.5, "center_y": 0.15}
                on_release:
                    self.parent.parent.parent.take_username()
                    app.root.current = "main" if self.parent.parent.parent.box_is_filled else "account"
            MDIconButton:
                icon: "arrow-left"
                pos_hint: {"center_x": .08, "center_y": 0.08}
                on_release:
                    app.root.current = "starting"


<LogInScreen>
    canvas:
        Color:
            rgba: (1, 1, 1, 1)
        Rectangle:
            source: "lifejackit background.png"
            pos: self.pos
            size: self.size
    MDCard:
        opacity: 0.77
        padding: 4
        size_hint: None, None
        size: "240dp", "280dp"
        pos_hint: {"center_x": 0.5, "center_y": 0.5}


        MDRelativeLayout:
            MDLabel:
                id: label
                text: "Log In"
                adaptive_size: True
                color: "black"
                pos_hint: {"center_x": 0.5, "center_y": 0.88}
                font_size: '18sp'
                bold: True
            MDTextField:
                id: username_login
                hint_text: "Username"
                hint_text_size: "5sp"
                mode: "rectangle"
                width: 200
                height: 10
                size_hint: None, None
                pos_hint: {"center_x": 0.5, "center_y": 0.7}
                line_color_normal: 0/255, 0/255, 0/255, 1
                multiline: False
                font_size:"15dp"
                max_text_length: 20
                on_text_validate: self.parent.parent.parent.check_username_length(self)
                on_focus:
                    self.helper_text = ""
                    self.parent.parent.parent.check_username_length(self)
                #hint_text_color_normal: "black"
            MDTextField:
                id: password_login
                hint_text: "Password"
                hint_text_size: "5sp"
                password: True
                mode: "rectangle"
                width: 200
                height: 10
                size_hint: None, None
                pos_hint: {"center_x": 0.5, "center_y": 0.4}
                line_color_normal: 0/255, 0/255, 0/255, 1
                multiline: False
                font_size:"15dp"
                max_text_length: 50
                on_text_validate: self.parent.parent.parent.check_password_length(self)
                on_focus:
                    self.helper_text = ""
                    self.parent.parent.parent.check_password_length(self)
            MDRaisedButton:
                text: "Continue"
                pos_hint: {"center_x": 0.5, "center_y": 0.15}
                on_release:
                    self.parent.parent.parent.take_username()
                    app.root.current = "main" if self.parent.parent.parent.box_is_filled_login else "login"
            MDIconButton:
                icon: "arrow-left"
                pos_hint: {"center_x": .15, "center_y": 0.15}
                on_release:
                    app.root.current = "starting"


<MainScreen>
    MDBoxLayout:
        orientation: "vertical"

        MDBottomNavigation:
            id: tabs
            panel_color: 190/255, 210/255, 247/255, 1
            text_color_active: 42/255, 67/255, 132/255, 1
            font_style: ""  # Add font maybe.

            MDBottomNavigationItem:
                name: 'journal'
                text: "Journal"
                icon: 'book-open'

                MDBoxLayout:

                    orientation: "vertical"
                    padding: 0
                    canvas.before:
                        Color:
                            rgba: 232/255, 203/255, 146/255, 1
                        Rectangle:
                            source: "lifejackit background.png"
                            pos: self.pos
                            size: self.size

                    MDTabs:
                        id: blog_tabs
                        tab_hint_x: True
                        background_color: 8/255, 77/255, 204/255, 1

                        Tab:
                            icon: "head-heart"
                            FloatLayout:

                                MDCard:
                                    id: quote_card
                                    opacity: 0.65
                                    padding: 4
                                    size_hint: 0.7, 0.3
                                    pos_hint: {"center_x": 0.5, "center_y": 0.8}
                                    MDLabel:
                                        id: quote_label
                                        pos_hint: {"center_x": 0.5, "center_y": 0.55}
                                        font_size: "20dp"
                                        markup: True
                                        halign: "center"
                                        valign: "middle"
                                        text: "Loading..."
                                MDCard:
                                    opacity: 0.65
                                    padding: 4
                                    size_hint: 0.7, 0.45
                                    pos_hint: {"center_x": 0.5, "center_y": 0.4}
                                    MDLabel:
                                        pos_hint: {"center_x": 0.5, "center_y": 0.9}
                                        font_size: "15dp"
                                        markup: True
                                        halign: "center"
                                        valign: "top"
                                        text: "Reflect on today's quote:"
                                MDTextField:
                                    id: reflection
                                    mode: "rectangle"
                                    width: 200
                                    height: 10
                                    size_hint: 0.5,0.25
                                    line_color_normal: 0.5, 0.5, 0.5, 1
                                    line_color_focus: 0/255, 0/255, 0/255, 1
                                    multiline: True
                                    font_size:"15dp"
                                    helper_text_mode: "on_error"
                                    pos_hint: {'center_x':0.5, 'center_y': 0.4}


                        Tab:
                            icon: "dumbbell"
                            FloatLayout:
                                canvas.before:
                                    Color:
                                        rgba: 1, 1, 1, 1
                                    Rectangle:
                                        source: "BMI table.png"
                                        size: 0.4 * self.width, 0.4 * self.height
                                        pos: self.pos

                                MDCard:
                                    opacity: 0.65
                                    padding: 4
                                    size_hint: None, None
                                    size: "200dp", "50dp"
                                    pos_hint: {"center_x": 0.5, "center_y": 0.925}
                                    MDLabel:
                                        pos_hint: {"center_x": 0.6, "center_y": 0.55}
                                        font_size: 15
                                        text: "[b]Nutrition and Exercise[/b]"
                                        markup: True
                                        halign: "center"
                                        valign: "middle"

                        Tab:
                            icon: "star-shooting"
                            FloatLayout:
                                canvas.before:
                                    Color:
                                        rgba: 232/255, 203/255, 146/255, 1
                                    Rectangle:
                                        source: "night_sky.png"
                                        pos: self.pos
                                        size: self.size
                                MDCard:
                                    opacity: 0.65
                                    padding: 4
                                    size_hint: None, None
                                    size: "200dp", "50dp"
                                    pos_hint: {"center_x": 0.5, "center_y": 0.925}
                                    MDLabel:
                                        pos_hint: {"center_x": 0.6, "center_y": 0.55}
                                        font_size: 15
                                        text: "[b]Aspirations[/b]"
                                        markup: True
                                        halign: "center"
                                        valign: "middle"

                                MDIconButton:
                                    icon: "star"
                                    pos_hint: {"center_x": 0.1, "center_y": 0.75}
                                    style: "tonal"
                                    theme_bg_color: "Custom"
                                    md_bg_color: None
                                    theme_icon_color: "Custom"
                                    icon_color: "white"
                                    on_release: root.show_popup("Aspiration #1")

                                MDIconButton:
                                    icon: "star"
                                    pos_hint: {"center_x": 0.5, "center_y": 0.75}
                                    style: "tonal"
                                    theme_bg_color: "Custom"
                                    md_bg_color: None
                                    theme_icon_color: "Custom"
                                    icon_color: "white"
                                    on_release: root.show_popup("Aspiration #2")

                                MDIconButton:
                                    icon: "star"
                                    pos_hint: {"center_x": 0.9, "center_y": 0.75}
                                    style: "tonal"
                                    theme_bg_color: "Custom"
                                    md_bg_color: None
                                    theme_icon_color: "Custom"
                                    icon_color: "white"
                                    on_release: root.show_popup("Aspiration #3")

                                MDIconButton:
                                    icon: "star"
                                    pos_hint: {"center_x": 0.1, "center_y": 0.5}
                                    style: "tonal"
                                    theme_bg_color: "Custom"
                                    md_bg_color: None
                                    theme_icon_color: "Custom"
                                    icon_color: "white"
                                    on_release: root.show_popup("Aspiration #4")

                                MDIconButton:
                                    icon: "star"
                                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                                    style: "tonal"
                                    theme_bg_color: "Custom"
                                    md_bg_color: None
                                    theme_icon_color: "Custom"
                                    icon_color: "white"
                                    on_release: root.show_popup("Aspiration #5")

                                MDIconButton:
                                    icon: "star"
                                    pos_hint: {"center_x": 0.9, "center_y": 0.5}
                                    style: "tonal"
                                    theme_bg_color: "Custom"
                                    md_bg_color: None
                                    theme_icon_color: "Custom"
                                    icon_color: "white"
                                    on_release: root.show_popup("Aspiration #6")

                                MDIconButton:
                                    icon: "plus"
                                    pos_hint: {"center_x": 0.5, "center_y": 0.25}
                                    style: "small"
                                    theme_bg_color: "Custom"
                                    md_bg_color: None
                                    theme_icon_color: "Custom"
                                    icon_color: "white"

            MDBottomNavigationItem:
                name: 'sChool'
                text: "School"
                icon: 'school'


                MDCarousel:
                    id: programs
                    size_hint: 0.85, 0.95
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    opacity: 1
                    direction: 'right'

                    GradeCarousel:
                        program_number: 1
                    GradeCarousel:
                        program_number: 2
                    GradeCarousel:
                        program_number: 3
                    GradeCarousel:
                        program_number: 4


            MDBottomNavigationItem:
                name: "help"
                text: "Help"
                icon: 'chat-question'
                MDTabs:
                    id: help_tabs
                    tab_hint_x: True
                    background_color: 8/255, 77/255, 204/255, 1
                    Tab:
                        title: "FAQs"
                        icon: "frequently-asked-questions"
                        ScrollView:
                            bar_width: 3
                            scroll_type: ['bars', 'content']
                            BoxLayout:
                                orientation: "vertical"
                                size_hint : 1, None
                                height: self.minimum_height
                                padding: (2, 0, 2, 0)
                                Label:
                                    text: "Frequently Asked Questions (FAQs)"
                                    font_size: "23dp"
                                    bold: True
                                    color: 0, 0, 0, 1
                                    text_size: self.width, None
                                    halign: "center"
                                    size_hint: (1, None)
                                Accordion:
                                    id: box
                                    orientation: "vertical"
                                    size_hint: (1, None)
                                    height: 200
                    Tab:
                        title: "Appointments"
                        icon: "calendar-clock"
                        ScrollView:
                            bar_width: 3
                            scroll_type: ['bars', 'content']
                            MDGridLayout:
                                cols: 1
                                id: appointments
                                size_hint : 1, None
                                height: self.minimum_height
                                padding: (30, 0, 30, 0)
                                spacing: 10
                                Label:
                                    id: a1
                                    text: "Appointments"
                                    font_size: "23dp"
                                    bold: True
                                    color: 0, 0, 0, 1
                                    text_size: self.width, None
                                    size_hint_y: None
                                    halign: "center"
                                MDLabel:
                                    id: no_appointments
                                    text: "[i]No appointments yet.[/i]"
                                    markup: True
                                    font_size: 17
                                    color: 0, 0, 0, 1
                                    text_size: self.width, None
                                    size_hint_y: None
                                    height: 20

                                Label:
                                    id: a2
                                    size_hint_y: None
                                    height: 20
                                MDRaisedButton:
                                    id: make_appointment
                                    style: "elevated"
                                    text: "Make a new appointment"
                                    md_bg_color: 8/255, 77/255, 204/255, 1
                                    size_hint_y: None
                                    on_press:
                                        root.make_appointment()
                                Label:
                                    id: a3
                                    size_hint_y: None
                                    height: 20

            MDBottomNavigationItem:
                name: 'settings'
                text: "Settings"
                icon: 'cog'

                BoxLayout:
                    orientation: "vertical"
                    padding: 25
                    MDFlatButton:
                        text: "Log out"
                        theme_text_color: "Custom"
                        padding: 100, 8
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        font_size: "17sp"
                        text_color: 179/255, 0, 0, 1
                        line_color: 179/255, 0, 0, 1
                        on_release:
                            app.root.current = "starting"

<AppointmentCard>:
    md_bg_color: 212/255, 227/255, 1, 1
    size_hint: 1, None
    height: 170
    padding: 20
    spacing: 10
    orientation: "vertical"
    MDRelativeLayout:
        MDLabel:
            text: "Appointment with " + root.person
            font_size: "20dp"
            bold: True
            pos_hint: {"center_x": 0.5, "center_y": 0.9}
        MDLabel:
            text: "Date: " + root.date
            font_size: "15dp"
            pos_hint: {"center_x": 0.5, "center_y": 0.6}
        MDLabel:
            text: "Time: " + root.time
            font_size: "15dp"
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
        # Call button, chat button, delete button here.
        MDBoxLayout:
            orientation: "horizontal"
            padding: 20
            spacing: 10
            pos_hint: {"center_x": 0.9, "center_y": 0.3}
            MDIconButton:
                icon: "phone"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                md_bg_color: 82/255, 1, 82/255, 1
            MDIconButton:
                icon: "chat"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                md_bg_color: 82/255, 148/255, 1, 1
            MDIconButton:
                icon: "trash-can"
                theme_text_color: "Custom"
                text_color: 1, 1, 1, 1
                md_bg_color: 1, 51/255, 51/255, 1
                on_press: root.open_confirmation(f"Delete appointment with {root.person} on {root.date} at {root.time}?")

<GradeCarousel>
    MDCard:
        id: carousel_card
        background: ("1.png", "2.png", "3.png","4.png")[root.program_number - 1]
        radius: [10]
        FloatLayout:
            MDIconButton:
                md_bg_color: (40/255, 170/255, 120/255, 1) if root.program_number > 1 else (0, 0, 0, 0)
                icon: "arrow-left" if root.program_number > 1 else ""
                pos_hint: {'center_x': 0.1, 'center_y': 0.4}
                on_release:
                    root.parent.parent.load_previous()
            MDIconButton:
                md_bg_color: (40/255, 170/255, 120/255, 1) if root.program_number < 4 else (0, 0, 0, 0)
                icon: "arrow-right" if root.program_number < 4 else ""
                pos_hint: {'center_x': 0.9, 'center_y': 0.4}
                on_release:
                    root.parent.parent.load_next()
            MDFillRoundFlatButton:
                text: "View"
                text_color: 0, 0, 0, 1
                md_bg_color: 1, 150/255,79/255, 1
                pos_hint: {'center_x': 0.5, 'center_y': 0.12}
                size_hint: 0.275,0.075
                on_release: app.root.current = ("c1", "c2", "c3","c4")[root.program_number - 1]



<Course1Screen>
    canvas.before:
        Rectangle:
            source: 'Freshman Courses Label.png'
            pos: self.pos
            size: self.size
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.85}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.75}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.65}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.55}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.45}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.35}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.25}

    MDRaisedButton:
        text: "Back"
        pos_hint: {"center_x": 0.5, "center_y": 0.1}
        on_release:
            app.root.current = "main"

<Course2Screen>
    canvas.before:
        Rectangle:
            source: 'Sophomore Courses Label.png'
            pos: self.pos
            size: self.size
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.85}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.75}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.65}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.55}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.45}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.35}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.25}

    MDRaisedButton:
        text: "Back"
        pos_hint: {"center_x": 0.5, "center_y": 0.1}
        on_release:
            app.root.current = "main"

<Course3Screen>
    canvas.before:
        Rectangle:
            source: 'Junior Courses Label.png'
            pos: self.pos
            size: self.size
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.85}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.75}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.65}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.55}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.45}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.35}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.25}

    MDRaisedButton:
        text: "Back"
        pos_hint: {"center_x": 0.5, "center_y": 0.1}
        on_release:
            app.root.current = "main"

<Course4Screen>
    canvas.before:
        Rectangle:
            source: 'Senior Courses Label.png'
            pos: self.pos
            size: self.size
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.85}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.75}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.65}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.55}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.45}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.35}
    CourseField:
        pos_hint: {"center_x": 0.5, "center_y": 0.25}

    MDRaisedButton:
        text: "Back"
        pos_hint: {"center_x": 0.5, "center_y": 0.1}
        on_release:
            app.root.current = "main"


<CourseField>
    hint_text: "Enter Course"
    hint_text_size: "5sp"
    mode: "rectangle"
    width: 200
    height: 10
    size_hint: 0.9,0.09
    line_color_normal: 0/255, 0/255, 0/255, 1
    multiline: False
    font_size:"15dp"
    helper_text_mode: "on_error"
    max_text_length: 50


<ConfirmationPopup>
    size_hint: 0.75, 0.25
    halign: "center"
    title: root.question
    title_align: "center"
    title_size: 17
    title_color: 1, 1, 1, 1
    background_normal: ""
    background_color: 189/255, 1, 206/255, 1

    FloatLayout:
        MDRaisedButton:
            id: cancel
            text: "Cancel"
            font_size: "24dp"
            md_bg_color: 1, 51/255, 51/255, 1
            size_hint: 0.3, 0.35
            pos_hint: {"center_x": 0.25, "center_y": 0.5}
            on_press:
                root.dismiss()

        MDRaisedButton:
            id: confirm
            text: "Confirm"
            font_size: "24dp"
            md_bg_color: 113/255, 201/255, 135/255, 1
            size_hint: 0.3, 0.35
            pos_hint: {"center_x": 0.75, "center_y": 0.5}


<AppointmentPopup>
    size_hint: 0.8, 0.7
    halign: "center"
    title: "Make an Appointment"
    title_align: "center"
    title_size: 17
    title_color: 1, 1, 1, 1
    background_normal: ""
    background_color: 189/255, 1, 206/255, 1
    FloatLayout:
        MDLabel:
            text: "Select a person"
            pos_hint: {"center_x": 0.5, "center_y": 0.95}
            halign: "center"
            color: 1, 1, 1, 1
        MDDropDownItem:
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 0.7
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [2]
            id: person_dropdown
            font_size: "19sp"
            color: 1, 1, 1, 1
            size_hint: 0.5, 0.09
            pos_hint: {"center_x": 0.5, "center_y": 0.85}
            on_release:
                root.people_menu.open()
        MDRaisedButton:
            id: date_button
            text: "Select a date"
            pos_hint: {"center_x": 0.5, "center_y": 0.65}
            md_bg_color: root.inactive_color
            on_release:
                root.show_date_picker()
        MDLabel:
            id: date_label
            text: "No date selected."
            pos_hint: {"center_x": 0.5, "center_y": 0.55}
            halign: "center"
            color: 1, 1, 1, 1
        MDRaisedButton:
            id: time_button
            text: "Select a time"
            pos_hint: {"center_x": 0.5, "center_y": 0.35}
            md_bg_color: root.inactive_color
            on_release:
                root.show_time_selector()
        MDLabel:
            id: time_label
            text: "No time selected."
            halign: "center"
            color: 1, 1, 1, 1
            pos_hint: {"center_x": 0.5, "center_y": 0.25}
        MDRaisedButton:
            id: confirm
            text: "Confirm"
            font_size: "20dp"
            md_bg_color: root.inactive_color
            size_hint: 0.3, 0.1
            pos_hint: {"center_x": 0.72, "center_y": 0.1}
            on_press:
                root.confirm_appointment()
        MDRaisedButton:
            id: cancel
            text: "Cancel"
            font_size: "20dp"
            md_bg_color: 1, 51/255, 51/255, 1
            size_hint: 0.3, 0.1
            pos_hint: {"center_x": 0.28, "center_y": 0.1}
            on_press:
                root.dismiss()

<TimePopup>
    size_hint: 0.9, 0.65
    halign: "center"
    title: "Select a Time"
    title_align: "center"
    title_size: 17
    title_color: 1, 1, 1, 1
    background_normal: ""
    background_color: 189/255, 1, 206/255, 1
    FloatLayout:
        MDRaisedButton:
            id: confirm
            text: "Confirm"
            font_size: "20dp"
            md_bg_color: root.inactive_color
            size_hint: 0.3, 0.1
            pos_hint: {"center_x": 0.72, "center_y": 0.12}
            on_press:
                root.on_save_button()
        MDRaisedButton:
            id: cancel
            text: "Cancel"
            font_size: "20dp"
            md_bg_color: 1, 51/255, 51/255, 1
            size_hint: 0.3, 0.1
            pos_hint: {"center_x": 0.28, "center_y": 0.12}
            on_press:
                root.dismiss()
        MDGridLayout:
            id: time_grid
            cols: 3
            size_hint: 1, 0.7
            pos_hint: {"center_x": 0.5, "center_y": 0.64}
            padding: 20
            spacing: 10
